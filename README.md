# peek — Modern PowerShell directory listings (monorepo)

[![Netlify Status](https://api.netlify.com/api/v1/badges/bc85d29e-a297-4f04-a94f-ba0f1b89c3db/deploy-status)](https://app.netlify.com/projects/pwsh-peek/deploys)
[![CI](https://github.com/codywilliamson/pwsh-peek/actions/workflows/ci.yml/badge.svg)](https://github.com/codywilliamson/pwsh-peek/actions/workflows/ci.yml)
[![Latest Module Release](https://img.shields.io/github/v/release/codywilliamson/pwsh-peek?display_name=tag&filter=module-v*&sort=semver)](https://github.com/codywilliamson/pwsh-peek/releases)
[![Latest Website Release](https://img.shields.io/github/v/release/codywilliamson/pwsh-peek?display_name=tag&filter=website-v*&sort=semver)](https://github.com/codywilliamson/pwsh-peek/releases)
[![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Built with Vite](https://img.shields.io/badge/Built%20with-Vite-646CFF.svg)](https://vite.dev)
[![Vue 3](https://img.shields.io/badge/Vue-3-42b883.svg)](https://vuejs.org)
[![PowerShell](https://img.shields.io/badge/PowerShell-Module-5391FE.svg)](https://learn.microsoft.com/powershell/)
[![PowerShell Gallery](https://img.shields.io/powershellgallery/v/DirectoryListing?label=PowerShell%20Gallery&logo=powershell)](https://www.powershellgallery.com/packages/DirectoryListing)

Blazing-fast, human-friendly directory listings for PowerShell with icons, human-readable sizes, relative timestamps, and intuitive aliases.

-   Website: https://peek.codywilliamson.com
    (homepage)
-   Author: https://codywilliamson.com • https://spectaclesoftware.com • cody@spectaclesoftware.com

## Layout

-   `DirectoryListing.psm1` / `DirectoryListing.psd1` — the PowerShell module (exporting `Get-DirectoryView` and related commands)
-   `pwsh-peek/` — the marketing/docs website (Vue 3 + Vite + Tailwind)

## Features

-   Human-readable sizes (KB/MB/GB)
-   Relative timestamps (e.g., 5m ago, 2d ago)
-   Directory-first sorting and smart filters
-   Short, memorable aliases (pka, pkf, pkd, …)
-   Zero config; great defaults out of the box

## Prerequisites

-   PowerShell 7+ (pwsh). The module works on Windows PowerShell 5.1, but emoji icons may not render correctly.
-   A terminal and font with color emoji support (e.g., Windows Terminal + Segoe UI Emoji or Noto Color Emoji). If you see empty boxes, switch fonts.
-   Optional: [Terminal-Icons](https://github.com/devblackops/Terminal-Icons) complements ls/dir output. peek ships its own simple icons already.

## Quick Install

Run in PowerShell:

```powershell
iex (irm peek.codywilliamson.com/install.ps1)
```

Custom path / profile:

```powershell
iex "& { $(irm peek.codywilliamson.com/install.ps1) } -InstallPath 'C:\\MyModules' -AddToProfile"
```

## Commands

-   `peek` — Base listing. Options: `-All`, `-DirsFirst`, `-Long`, `-SortNewest`, `-SortSize`, `-Recurse`, `-Depth`
-   `peek-all` (alias: `pka`) — Include hidden/system items
-   `peek-all-recurse` (alias: `pkar`) — Recurse with `-Depth`
-   `peek-files` (alias: `pkf`) — Files only; supports `-SortSize`, `-SortNewest`
-   `peek-dirs` (alias: `pkd`) — Directories only
-   `peek-all-size` (alias: `pkas`) — All items, sorted by size
-   `peek-all-newest` (alias: `pkan`) — All items, newest first

## Develop the website

```pwsh
cd pwsh-peek
pnpm install
pnpm dev   # run locally
pnpm build # production build
```

## Release process

-   Branch: pushes to `master` auto-tag releases based on versions in the repo.
-   Module tag: created only when `DirectoryListing.psd1/.psm1` changed; name `module-v{ModuleVersion}`.
-   Website tag: created only when files under `pwsh-peek/` changed; name `website-v{version}` from `pwsh-peek/package.json`.
-   GitHub Releases: created for each new tag with autogenerated notes.
-   Manual run: trigger “Auto tag releases (module & website)” from the Actions tab if needed.
-   Badges above show the latest module/website releases filtered by tag prefix.

## Contributing

Contributions are welcome! Please read [CONTRIBUTING.md](CONTRIBUTING.md) to get started:

1. Fork the repo and create a feature branch.
2. For module changes, run tests with Pester: `pwsh -c Invoke-Pester`.
3. For the website, use Node 20.19+, `pnpm install`, then `pnpm dev`.
4. Open a PR with a clear description and screenshots for UI changes.

## License

MIT © Cody Williamson — see [LICENSE](LICENSE)

# DirectoryListing module

A modern, concise directory listing for PowerShell with a unique alias `peek`.

-   Human-readable sizes (KB/MB/GB)
-   Relative modified times (e.g., 5m ago, 2d ago)
-   Directory-first and sorting options (size or newest)
-   Optional long view with Mode and FullName

## Usage

-   `peek` — list current directory
-   `peek -All` — include hidden/system
-   `peek -DirsFirst` — directories before files
-   `peek -SortNewest` — newest first
-   `peek -SortSize` — largest files first
-   `peek -Long` — extended columns
-   `peek -Recurse -Depth 2` — descend 2 levels
-   `Get-DirectoryView -OnlyFiles` — only files
-   `peek -NoIcons` — ASCII-only icons (alias: `-Ascii`) for environments without emoji support

### Configuration

-   Make ASCII the default:

    ```pwsh
    Set-NoIconsForPeek -Scope User
    # Or only this session
    Set-NoIconsForPeek -Scope Process
    # Or store in a small JSON config under AppData
    Set-NoIconsForPeek -Scope Config
    ```

-   You can also set an environment variable manually:

    ```pwsh
    $env:PEEK_NO_ICONS = '1'     # current session
    [Environment]::SetEnvironmentVariable('PEEK_NO_ICONS','1','User')
    ```

-   Order of precedence (highest → lowest): command-line switch, environment variable, config file.

## Install

Loaded automatically by your profile via `Settings.ps1` as part of `Import-CustomModules`.
